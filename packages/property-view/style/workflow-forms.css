/********************************************************************************
 * Copyright (c) 2023 CrossBreeze.
 * Workflow Forms Styles - Â∑•‰ΩúÊµÅÁ®ãË°®ÂçïÊ†∑Âºè
 * ÈúÄÊ±Ç 8.1-8.3: Áªü‰∏ÄÁöÑÁî®Êà∑ÁïåÈù¢‰∏ªÈ¢ò
 ********************************************************************************/

/* ============================================
 * Workflow Form Base Styles - Â∑•‰ΩúÊµÅÁ®ãË°®ÂçïÂü∫Á°ÄÊ†∑Âºè
 * ============================================ */

.workflow-property-view {
   background: var(--theia-sideBar-background);
   color: var(--theia-sideBar-foreground);
   font-family: var(--theia-ui-font-family);
   overflow-y: auto;
   padding: 16px;
}

.workflow-form-section {
   margin-bottom: 24px;
   border: 1px solid var(--theia-panel-border);
   border-radius: 8px;
   overflow: hidden;
}

.workflow-form-section-header {
   background: var(--theia-sideBarSectionHeader-background);
   color: var(--theia-sideBarSectionHeader-foreground);
   padding: 12px 16px;
   font-weight: 600;
   font-size: 13px;
   border-bottom: 1px solid var(--theia-panel-border);
   display: flex;
   align-items: center;
   justify-content: space-between;
}

.workflow-form-section-content {
   padding: 16px;
   background: var(--theia-editor-background);
}

.workflow-form-section.collapsed .workflow-form-section-content {
   display: none;
}

.workflow-form-section-toggle {
   background: none;
   border: none;
   color: inherit;
   cursor: pointer;
   padding: 4px;
   border-radius: 4px;
   transition: background-color 0.2s ease;
}

.workflow-form-section-toggle:hover {
   background: var(--theia-toolbar-hoverBackground);
}

/* ============================================
 * Form Field Styles - Ë°®ÂçïÂ≠óÊÆµÊ†∑Âºè
 * ============================================ */

.workflow-form-field {
   margin-bottom: 16px;
}

.workflow-form-field:last-child {
   margin-bottom: 0;
}

.workflow-form-label {
   display: block;
   font-weight: 500;
   font-size: 12px;
   color: var(--theia-foreground);
   margin-bottom: 6px;
   text-transform: uppercase;
   letter-spacing: 0.5px;
}

.workflow-form-label.required::after {
   content: ' *';
   color: var(--theia-errorForeground);
}

.workflow-form-input {
   width: 100%;
   padding: 8px 12px;
   border: 1px solid var(--theia-input-border);
   border-radius: 4px;
   background: var(--theia-input-background);
   color: var(--theia-input-foreground);
   font-family: var(--theia-ui-font-family);
   font-size: 12px;
   transition:
      border-color 0.2s ease,
      box-shadow 0.2s ease;
}

.workflow-form-input:focus {
   outline: none;
   border-color: var(--theia-focusBorder);
   box-shadow: 0 0 0 2px rgba(198, 154, 44, 0.2);
}

.workflow-form-input:disabled {
   opacity: 0.6;
   cursor: not-allowed;
   background: var(--theia-input-background);
}

.workflow-form-input.error {
   border-color: var(--theia-errorForeground);
}

.workflow-form-input.warning {
   border-color: var(--theia-warningForeground);
}

.workflow-form-textarea {
   min-height: 80px;
   resize: vertical;
}

.workflow-form-select {
   appearance: none;
   background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");
   background-repeat: no-repeat;
   background-position: right 8px center;
   background-size: 16px;
   padding-right: 32px;
}

.workflow-form-checkbox {
   display: flex;
   align-items: center;
   gap: 8px;
   cursor: pointer;
}

.workflow-form-checkbox input[type='checkbox'] {
   width: 16px;
   height: 16px;
   accent-color: var(--theia-focusBorder);
}

.workflow-form-radio-group {
   display: flex;
   flex-direction: column;
   gap: 8px;
}

.workflow-form-radio {
   display: flex;
   align-items: center;
   gap: 8px;
   cursor: pointer;
}

.workflow-form-radio input[type='radio'] {
   width: 16px;
   height: 16px;
   accent-color: var(--theia-focusBorder);
}

/* ============================================
 * Button Styles - ÊåâÈíÆÊ†∑Âºè
 * ============================================ */

.workflow-form-button {
   padding: 8px 16px;
   border: 1px solid var(--theia-button-background);
   border-radius: 4px;
   background: var(--theia-button-background);
   color: var(--theia-button-foreground);
   font-family: var(--theia-ui-font-family);
   font-size: 12px;
   font-weight: 500;
   cursor: pointer;
   transition: all 0.2s ease;
   display: inline-flex;
   align-items: center;
   gap: 6px;
}

.workflow-form-button:hover {
   background: var(--theia-button-hoverBackground);
   transform: translateY(-1px);
}

.workflow-form-button:active {
   transform: translateY(0);
}

.workflow-form-button:disabled {
   opacity: 0.6;
   cursor: not-allowed;
   transform: none;
}

.workflow-form-button.secondary {
   background: var(--theia-button-secondaryBackground);
   color: var(--theia-button-secondaryForeground);
   border-color: var(--theia-button-border);
}

.workflow-form-button.secondary:hover {
   background: var(--theia-button-secondaryHoverBackground);
}

.workflow-form-button.danger {
   background: var(--theia-errorForeground);
   color: white;
   border-color: var(--theia-errorForeground);
}

.workflow-form-button.danger:hover {
   background: var(--theia-errorForeground);
   filter: brightness(1.1);
}

.workflow-form-button-group {
   display: flex;
   gap: 8px;
   margin-top: 16px;
}

/* ============================================
 * Decision Table Styles - ÂÜ≥Á≠ñË°®Ê†∑Âºè
 * ============================================ */

.workflow-decision-table {
   border: 1px solid var(--theia-panel-border);
   border-radius: 6px;
   overflow: hidden;
   background: var(--theia-editor-background);
}

.workflow-decision-table-header {
   background: var(--workflow-decisionTableHeader, var(--theia-sideBarSectionHeader-background));
   padding: 12px 16px;
   font-weight: 600;
   font-size: 13px;
   border-bottom: 1px solid var(--theia-panel-border);
   display: flex;
   align-items: center;
   justify-content: space-between;
}

.workflow-decision-table-content {
   overflow: auto;
   max-height: 400px;
}

.workflow-decision-table table {
   width: 100%;
   border-collapse: collapse;
   font-size: 12px;
}

.workflow-decision-table th,
.workflow-decision-table td {
   padding: 8px 12px;
   border: 1px solid var(--workflow-decisionTableBorder, var(--theia-panel-border));
   text-align: left;
}

.workflow-decision-table th {
   background: var(--workflow-decisionTableHeader, var(--theia-sideBarSectionHeader-background));
   font-weight: 600;
   position: sticky;
   top: 0;
   z-index: 1;
}

.workflow-decision-table td {
   background: var(--workflow-decisionTableCell, var(--theia-editor-background));
}

.workflow-decision-table tr:hover td {
   background: var(--theia-list-hoverBackground);
}

.workflow-decision-table tr.selected td {
   background: var(--workflow-decisionTableSelectedCell, var(--theia-list-activeSelectionBackground));
   color: var(--theia-list-activeSelectionForeground);
}

.workflow-decision-table-cell-input {
   width: 100%;
   border: none;
   background: transparent;
   color: inherit;
   font-family: inherit;
   font-size: inherit;
   padding: 4px;
}

.workflow-decision-table-cell-input:focus {
   outline: 2px solid var(--theia-focusBorder);
   outline-offset: -2px;
}

.workflow-decision-table-actions {
   display: flex;
   gap: 8px;
   align-items: center;
}

.workflow-decision-table-add-row,
.workflow-decision-table-add-column,
.workflow-decision-table-delete-row,
.workflow-decision-table-delete-column {
   padding: 4px 8px;
   font-size: 11px;
   border-radius: 3px;
}

/* ============================================
 * Test Data and Automation Styles - ÊµãËØïÊï∞ÊçÆÂíåËá™Âä®ÂåñÊ†∑Âºè
 * ============================================ */

.workflow-test-data-section,
.workflow-automation-section {
   border: 1px solid var(--theia-panel-border);
   border-radius: 6px;
   margin-bottom: 16px;
}

.workflow-test-data-header,
.workflow-automation-header {
   background: var(--workflow-testDataBackground, var(--theia-sideBarSectionHeader-background));
   padding: 10px 14px;
   font-weight: 600;
   font-size: 12px;
   border-bottom: 1px solid var(--workflow-testDataBorder, var(--theia-panel-border));
   display: flex;
   align-items: center;
   justify-content: space-between;
}

.workflow-test-data-item,
.workflow-automation-item {
   padding: 12px 14px;
   border-bottom: 1px solid var(--theia-panel-border);
   background: var(--theia-editor-background);
}

.workflow-test-data-item:last-child,
.workflow-automation-item:last-child {
   border-bottom: none;
}

.workflow-test-data-item:hover,
.workflow-automation-item:hover {
   background: var(--theia-list-hoverBackground);
}

.workflow-test-data-name,
.workflow-automation-name {
   font-weight: 500;
   margin-bottom: 6px;
   color: var(--theia-foreground);
}

.workflow-test-data-binding,
.workflow-automation-binding {
   font-size: 11px;
   color: var(--theia-descriptionForeground);
   margin-bottom: 4px;
}

.workflow-test-data-preview,
.workflow-automation-preview {
   font-size: 11px;
   color: var(--theia-descriptionForeground);
   font-family: var(--theia-editor-font-family);
   background: var(--theia-textCodeBlock-background);
   padding: 6px 8px;
   border-radius: 3px;
   margin-top: 6px;
   overflow-x: auto;
}

/* ============================================
 * Reference Node Styles - ÂºïÁî®ËäÇÁÇπÊ†∑Âºè
 * ============================================ */

.workflow-reference-section {
   border: 1px solid var(--workflow-referenceNodeBorder, #6366f1);
   border-radius: 6px;
   background: var(--workflow-referenceNodeBackground, #f8f9ff);
}

.workflow-reference-header {
   background: var(--workflow-referenceNode, #6366f1);
   color: white;
   padding: 10px 14px;
   font-weight: 600;
   font-size: 12px;
   display: flex;
   align-items: center;
   gap: 8px;
}

.workflow-reference-header::before {
   content: 'üîó';
   font-size: 14px;
}

.workflow-reference-content {
   padding: 14px;
}

.workflow-reference-source {
   font-size: 11px;
   color: var(--theia-descriptionForeground);
   margin-bottom: 8px;
   font-style: italic;
}

.workflow-reference-readonly-notice {
   background: var(--theia-notificationsInfoIcon-foreground);
   color: white;
   padding: 6px 10px;
   border-radius: 4px;
   font-size: 11px;
   margin-bottom: 12px;
   display: flex;
   align-items: center;
   gap: 6px;
}

.workflow-reference-readonly-notice::before {
   content: '‚ÑπÔ∏è';
}

.workflow-reference-editable-fields {
   border-top: 1px solid var(--theia-panel-border);
   padding-top: 12px;
   margin-top: 12px;
}

/* ============================================
 * Swimlane Styles - Ê≥≥ÈÅìÊ†∑Âºè
 * ============================================ */

.workflow-swimlane-section {
   border: 1px solid var(--workflow-swimlaneBorder, var(--theia-panel-border));
   border-radius: 6px;
   background: var(--workflow-swimlaneBackground, var(--theia-sideBar-background));
}

.workflow-swimlane-header {
   background: var(--workflow-swimlaneHeader, var(--theia-sideBarSectionHeader-background));
   color: var(--workflow-swimlaneHeaderText, var(--theia-sideBarSectionHeader-foreground));
   padding: 10px 14px;
   font-weight: 600;
   font-size: 12px;
   border-bottom: 1px solid var(--workflow-swimlaneBorder, var(--theia-panel-border));
   display: flex;
   align-items: center;
   justify-content: space-between;
}

.workflow-swimlane-content {
   padding: 14px;
}

.workflow-swimlane-nodes {
   margin-top: 12px;
}

.workflow-swimlane-node-item {
   padding: 8px 12px;
   background: var(--theia-editor-background);
   border: 1px solid var(--theia-panel-border);
   border-radius: 4px;
   margin-bottom: 6px;
   display: flex;
   align-items: center;
   justify-content: space-between;
   font-size: 12px;
}

.workflow-swimlane-node-item:hover {
   background: var(--theia-list-hoverBackground);
}

.workflow-swimlane-node-name {
   font-weight: 500;
}

.workflow-swimlane-node-type {
   font-size: 10px;
   color: var(--theia-descriptionForeground);
   text-transform: uppercase;
   letter-spacing: 0.5px;
}

/* ============================================
 * Validation Message Styles - È™åËØÅÊ∂àÊÅØÊ†∑Âºè
 * ============================================ */

.workflow-validation-message {
   padding: 8px 12px;
   border-radius: 4px;
   font-size: 12px;
   margin-top: 6px;
   display: flex;
   align-items: center;
   gap: 8px;
}

.workflow-validation-message.error {
   background: var(--theia-inputValidation-errorBackground);
   color: var(--theia-inputValidation-errorForeground);
   border: 1px solid var(--theia-inputValidation-errorBorder);
}

.workflow-validation-message.warning {
   background: var(--theia-inputValidation-warningBackground);
   color: var(--theia-inputValidation-warningForeground);
   border: 1px solid var(--theia-inputValidation-warningBorder);
}

.workflow-validation-message.info {
   background: var(--theia-inputValidation-infoBackground);
   color: var(--theia-inputValidation-infoForeground);
   border: 1px solid var(--theia-inputValidation-infoBorder);
}

.workflow-validation-message.success {
   background: var(--workflow-validationSuccess, #9effbf);
   color: var(--theia-editor-background);
   border: 1px solid var(--workflow-validationSuccess, #9effbf);
}

.workflow-validation-icon {
   flex-shrink: 0;
   width: 16px;
   height: 16px;
}

/* ============================================
 * Responsive Design - ÂìçÂ∫îÂºèËÆæËÆ°
 * ============================================ */

@media (max-width: 768px) {
   .workflow-property-view {
      padding: 12px;
   }

   .workflow-form-section-content {
      padding: 12px;
   }

   .workflow-form-button-group {
      flex-direction: column;
   }

   .workflow-decision-table-content {
      max-height: 300px;
   }
}

/* ============================================
 * Accessibility - ÂèØËÆøÈóÆÊÄß
 * ============================================ */

.workflow-form-input:focus,
.workflow-form-select:focus,
.workflow-form-textarea:focus {
   outline: 2px solid var(--theia-focusBorder);
   outline-offset: -2px;
}

.workflow-form-button:focus {
   outline: 2px solid var(--theia-focusBorder);
   outline-offset: 2px;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
   .workflow-form-input,
   .workflow-form-select,
   .workflow-form-textarea {
      border-width: 2px;
   }

   .workflow-form-button {
      border-width: 2px;
   }

   .workflow-decision-table th,
   .workflow-decision-table td {
      border-width: 2px;
   }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
   .workflow-form-input,
   .workflow-form-button,
   .workflow-form-section-toggle {
      transition: none;
   }
}
